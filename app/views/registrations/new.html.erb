<div class="container mx-auto mb-4 mt-2">
  <div class="flex flex-col justify-center bg-gray-100 dark:bg-gray-800 border-2 border-gray-300 shadow-md rounded-lg p-4 sm:p-6">
    <div class="mx-auto mb-6">
      <h1 class="text-center font-semibold text-xl capitalize md:text-2xl lg:text-4xl"><%= t(".title") %></h1>
    </div>

    <%= form_with url: registrations_url, model: @user, class: "contents" do |form| %>
      <div class="flex flex-col justify-center space-x-3 items-center mb-4 md:flex-row">
        <div class="flex justify-center md:justify-end md:w-1/3">
          <label for="" class="text-base font-medium text-gray-700 dark:text-gray-100 capitalize required"><%= t(".username") %></label>
        </div>
        <div class="flex flex-col items-center md:items-start md:w-5/6">
          <%= form.text_field :username, required: true, autofocus: true, placeholder: t(".username_placeholder"), class: "shadow-md rounded-md border border-gray-400 focus:outline-softBlue px-3 py-2 w-1/2 dark:text-slate-800" %>
        </div>
      </div>

      <div class="flex flex-col justify-center space-x-3 items-center mb-4 md:flex-row">
        <div class="flex justify-center md:justify-end md:w-1/3">
          <label for="" class="text-base font-medium text-gray-700 dark:text-gray-100 capitalize required"><%= t(".email") %></label>
        </div>
        <div class="flex flex-col items-center md:items-start md:w-5/6">
          <%= form.email_field :email_address, required: true, placeholder: t(".email_placeholder"), maxlength: 254, class: "shadow-md rounded-md border border-gray-400 focus:outline-blue-400 px-3 py-2 w-1/2 #{'border-red-500' if form.object.errors[:email_address].any?} dark:text-slate-800" %>
          <% form.object.errors.full_messages_for(:email_address).each do |message| %>
            <p class="text-red-500 text-sm italic mt-1">
              <%= message %>
            </p> 
          <% end %>
        </div>
      </div>

      <div class="flex flex-col justify-center gap-x-3 items-center mb-4 md:flex-row">
        <div class="flex justify-center md:justify-end md:w-1/3">
          <label for="" class="text-base font-medium text-gray-700 dark:text-gray-100 capitalize required"><%= t(".email_confirmation") %></label>
        </div>
        <div class="flex flex-col items-center md:items-start md:w-5/6">
          <%= form.email_field :email_address_confirmation, required: true, autocomplete: "email", placeholder: t(".email_confirmation_placeholder"), maxlength: 72, class: "shadow-md rounded-md border border-gray-400 focus:outline-blue-400 px-3 py-2 w-1/2 #{'border-red-500' if form.object.errors[:email_address_confirmation].any?} dark:text-slate-800" %>
          <% form.object.errors.full_messages_for(:email_address_confirmation).each do |message| %>
            <p class="text-red-500 text-sm italic mt-1">
              <%= message %>
            </p>
          <% end %>
        </div>
      </div>

      <div class="flex flex-col justify-center space-x-3 items-center mb-4 md:flex-row">
        <div class="flex justify-center md:justify-end md:w-1/3">
          <label for="" class="text-base font-medium text-gray-700 dark:text-gray-100 capitalize required"><%= t(".password") %></label>
        </div>
        <div class="flex flex-col items-center md:items-start md:w-5/6">
          <%= form.password_field :password, required: true, placeholder: t(".password_placeholder"), class: "shadow-md rounded-md border border-gray-400 focus:outline-blue-400 px-3 py-2 w-1/2 #{'border-red-500' if form.object.errors[:password].any?} dark:text-slate-800" %>
          <% form.object.errors.full_messages_for(:password).each do |message| %>
            <p class="text-red-500 text-sm italic mt-1">
              <%= message %>
            </p>
          <% end %>
        </div>
      </div>

      <div class="flex flex-col justify-center space-x-3 items-center mb-4 md:flex-row">
        <div class="flex justify-center md:justify-end md:w-1/3">
          <label for="" class="text-base font-medium text-gray-700 dark:text-gray-100 capitalize required"><%= t(".password_confirmation") %></label>
        </div>
        <div class="flex flex-col items-center md:items-start md:w-5/6">
          <%= form.password_field :password_confirmation, required: true, autocomplete: "current-password", placeholder: t(".password_confirmation_placeholder"), class: "shadow-md rounded-md border border-gray-400 focus:outline-blue-400 px-3 py-2 w-1/2 #{'border-red-500' if form.object.errors[:password_confirmation].any?} dark:text-slate-800" %>
          <% form.object.errors.full_messages_for(:password_confirmation).each do |message| %>
            <p class="text-red-500 text-sm italic mt-1">
              <%= message %>
            </p>
          <% end %>
        </div>
      </div>

      <%= render "shared/time_zone_select", {form: form} %>

      <div class="flex justify-center mb-4">
        <%= form.submit t(".submit_button"), class: "text-center rounded-md px-3.5 py-2.5 text-white bg-softBlue hover:bg-white hover:text-softBlue hover:border-2 hover:border-softBlue inline-block font-medium cursor-pointer" %>
      </div>

      <div class="flex flex-col justify-center items-center space-x-4 mb-4 md:flex-row">
        <div class="text-base items-center text-gray-500 md:mt-0">
          <p class="text-xl text-gray-700 dark:text-gray-100"><%= t(".already_have_account") %></p>
        </div>

        <div class="text-xl font-bold items-center text-softBlue md:mt-0 md:text-2xl">
          <%= link_to t(".sign_in_link"), new_session_path, class: "hover:underline" %>
        </div>
      </div>
    <% end %>

    <div class="relative flex py-5 items-center">
        <div class="flex-grow border-t border-gray-400"></div>
        <span class="flex-shrink text-sm mx-4 text-gray-400 md:text-base"><%= t(".or_sign_up_with") %></span>
        <div class="flex-grow border-t border-gray-400"></div>
    </div>
    <div class="mt-3 mb-4 flex justify-center items-center gap-6">
      <%= form_with url: "/auth/google_oauth2", method: :post, data: { controller: "time-zone", action: "submit->time-zone#setAuthUrl", turbo: false } do |form| %>
        <button type="submit" class="btn flex items-center justify-center py-2 rounded-md text-sm cursor-pointer">
          <%= image_tag "icons8-google-40.png", style: "width: 20px; height:. 20px;" %>
          <span class="ml-2 text-softBlue font-semibold underline decoration-2 decoration-softBlue"><%= t(".google_button") %></span>
        </button>
      <% end %>

      <%= form_with url: "/auth/line", method: "post", data: { controller: "time-zone", action: "submit->time-zone#setAuthUrl", turbo: false } do |form| %>
        <button type="submit" class="btn flex items-center justify-center py-2 rounded-md text-sm cursor-pointer">
          <%= image_tag "icons8-line-48.png", style: "width: 25px; height: 25px;" %>
          <span class="ml-2 text-softBlue font-semibold underline decoration-2 decoration-softBlue"><%= t(".line_button") %></span>
        </button>
      <% end %>

      <%= form_with url: "/auth/github", method: "post", data: { controller: "time-zone", action: "submit->time-zone#setAuthUrl", turbo: false } do |form| %>
        <button type="submit" class="btn flex items-center justify-center py-2 rounded-md text-sm cursor-pointer">
          <%= svg "github" %>
          <span class="ml-2 text-softBlue font-semibold underline decoration-2 decoration-softBlue"><%= t(".github_button") %></span>
        </button>
      <% end %>
    </div>
    <span id="HelpBlock" class="text-center text-gray-500"><%= t(".help_text_html", google_icon: image_tag("icons8-google-40.png", style: "width: 20px; height: 20px;", class: "inline-block align-middle"), chrome_icon: svg("chrome"), edge_icon: content_tag(:span, svg("edge"), class: "w-6 h-6 inline-block align-middle"), firefox_icon: content_tag(:span, svg("firefox"), class: "w-6 h-6 inline-block align-middle")) %></span>
  </div>
</div>
